{% load static %}
{% load i18n %}


<div class="container" id="paper">
	<div class="d-flex justify-content-center">
		<div class="col-md-6 col-md-offset-3">
			<h2>{% translate "Password" %}</h2>
			<form action="/password/" method="post" class="form-horizontal" id="password">
				{% if has_password %}
				<div class="form-group">
					<label for="oldpassword" class="control-label">{% translate "Old Password" %}</label>
					<input
                        type="password" class="col-sm-9 form-control"
						placeholder="{% translate 'Enter old password' %}" name="oldpassword" required>
				</div>
				{% endif %}
				<div class="form-group">
					<label for="password" class="control-label">{% translate "New password" %}</label>
					<input
						type="password" class="col-sm-9 form-control"
						placeholder="{% translate 'Enter new password' %}" name="newpassword" required>
				</div>
				{% if otp_required %}
				<div class="form-group">
					<label for="otp" class="control-label">2Af Code</label>
					<div id="enter-code">
					<input
						type="text" class="col-sm-5 form-control"
						placeholder="000 000" name="otp-code" id="otp-code" required>
				</div>
				{% endif %}
				{% if error != None %}
					<code>{{ error }}</code>
				{% endif %}
				<div class="form-group"> 
					<button
						type="submit"
						class="col-sm-offset-3 col-sm-5 btn btn-primary btn-block"
						onclick="fetchForm(event, 'password', true);"
					>
							{% translate "Update" %}
					</button>
				</div>

				<div class="text-center" style="background-color:#f1f1f1; padding: 15px; margin-top: 20px;">
					<p><a href="/settings/" onclick="loadPageEvent(event, '/settings/')">{% translate "Cancel" %}</a></p>
				</div>
			</form>
		</div>
	</div>
</div>

{% block javascripts %}
	<script src="{% static 'authentication/utils.js' %}"></script>
	<script src="{% static 'authentication/cookies.js' %}"></script>
{% endblock %}